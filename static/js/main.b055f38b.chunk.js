(this["webpackJsonpcardano-pulse"]=this["webpackJsonpcardano-pulse"]||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),i=n.n(a),o=(n(15),n(3)),s=n(2),l=n(4);function u(e,t){var n=e.dataPoints,c=e.change24hr,r=t.type,a=t.payload,i=a.price,o=a.priceChange,u=a.priceChangePercent;switch(r){case"ADD_PRICE":for(var h=Object(l.a)(n);h.length>=100;)h.shift();return Object(s.a)(Object(s.a)({},e),{},{dataPoints:[].concat(Object(l.a)(h),[{price:Number(Number(i).toFixed(3)),timestamp:Date.now()}])});case"ADD_24HOUR":return Object(s.a)(Object(s.a)({},e),{},{change24hr:Object(s.a)(Object(s.a)({},c),{},{priceChange:Number(Number(o).toFixed(3)),priceChangePercent:Number(Number(u).toFixed(2)),timestamp:Date.now()})});default:return e}}function h(e,t){var n=e.dataPoints,c=e.change24hr,r=t.type,a=t.payload,i=a.price,o=a.priceChange,u=a.priceChangePercent;switch(r){case"ADD_PRICE":for(var h=Object(l.a)(n);h.length>=100;)h.shift();return Object(s.a)(Object(s.a)({},e),{},{dataPoints:[].concat(Object(l.a)(h),[{price:Number(Number(i).toFixed(10)),timestamp:Date.now()}])});case"ADD_24HOUR":return Object(s.a)(Object(s.a)({},e),{},{change24hr:Object(s.a)(Object(s.a)({},c),{},{priceChange:Number(Number(o).toFixed(10)),priceChangePercent:Number(Number(u).toFixed(2)),timestamp:Date.now()})});default:return e}}var d=n(8),b=n.n(d),f=n(10);function p(){return v.apply(this,arguments)}function v(){return(v=Object(f.a)(b.a.mark((function e(){var t,n,c,r,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"/api/v3/ping",n=a.length>1&&void 0!==a[1]?a[1]:function(e,t){t||console.table(e)},e.prev=2,e.next=5,fetch("https://www.binance.com".concat(t));case 5:return c=e.sent,e.next=8,c.json();case 8:r=e.sent,n(r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),n({error:e.t0},"ERROR");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}var j=n(0),g="#f9f9f9";function O(e){var t=e.value,n=void 0===t?0:t,c=e.prefix,r=void 0===c?"":c,a=e.suffix,i=void 0===a?"":a,o=e.invert,s=void 0!==o&&o,l=e.withCaret,u=void 0!==l&&l,h=e.scale,d=void 0===h?1:h;d=Number(d);var b=n>0?"#44b700":n<0?"#b74400":"unset",f={margin:s?"".concat(2*d,"px ").concat(4*d,"px"):"unset",padding:s?"".concat(4*d,"px ").concat(7*d,"px"):"unset",backgroundColor:s?b:"unset",color:s?g:b,fontSize:"".concat(16*d,"px"),fontWeight:"500",borderRadius:"7px",display:"flex",alignItems:"center"};return Object(j.jsxs)("span",{style:f,children:[u&&n>0?Object(j.jsx)(m,{size:10*d,fill:g,style:{marginRight:"".concat(2*d,"px")}}):u&&n<0?Object(j.jsx)(x,{size:10*d,fill:g,style:{marginRight:"".concat(2*d,"px")}}):null,r,n,i]})}function m(e){var t=e.size,n=void 0===t?"16":t,c=e.fill,r=void 0===c?"currentColor":c,a=e.style;return Object(j.jsx)("svg",{viewBox:"0 0 16 16",width:n,height:n,fill:r,style:a,children:Object(j.jsx)("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"})})}function x(e){var t=e.size,n=void 0===t?"16":t,c=e.fill,r=void 0===c?"currentColor":c,a=e.style;return Object(j.jsx)("svg",{viewBox:"0 0 16 16",width:n,height:n,fill:r,style:a,children:Object(j.jsx)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})})}function w(e){var t=e.color,n=void 0===t?"unset":t,r=e.dataPoints,a=void 0===r?[{price:0}]:r,i=e.maxPoints,o=void 0===i?10:i,s=e.numOfPriceDecimals,l=void 0===s?3:s,u=Object(c.useRef)(null),h=Object(c.useRef)(0),d=Object(c.useRef)(0);return Object(c.useEffect)((function(){var e=u.current;e.width=window.innerWidth-100,e.height=window.innerHeight-420;var t=e.getContext("2d");t.strokeStyle=n,t.fillStyle=n}),[window.innerWidth,window.innerHeight,n]),Object(c.useEffect)((function(){var e=u.current,t=e.getContext("2d");return function n(){d.current++;var c=0,r=0;a.forEach((function(e){var t=e.price;t>c||0===c?c=t:(t<r||0===r)&&(r=t)})),c===r&&(r-=Number("0.000000000000000".substring(0,l+1)+"1"));var i=7*Math.pow(Math.sin(.05*d.current),2),s=function(t){return e.width/o*t},u=function(t){return Math.abs(e.height/(c-r)*(t-r)-e.height)};t.clearRect(0,0,t.canvas.width,t.canvas.height),t.beginPath(),t.arc(a.length>=e.width?s(e.width-i):a.length?s(a.length-1):s(0),a.length?u(a[a.length-1].price):u(0),i,0,2*Math.PI),t.fill(),t.beginPath(),a.forEach((function(e,n){var c=e.price;0===n?t.moveTo(s(n),u(c)):t.lineTo(s(n),u(c))})),t.stroke(),h.current=window.requestAnimationFrame(n)}(),function(){window.cancelAnimationFrame(h.current)}}),[a,o]),Object(j.jsx)("canvas",{ref:u})}var y=n.p+"static/media/cardano-logo-1024x1024.a528433f.png",C="ADA",P="#3564f6",D={dataPoints:[{price:0}],change24hr:{priceChange:0,priceChangePercent:0}};function N(){var e=Object(c.useReducer)(u,D),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useReducer)(h,D),i=Object(o.a)(a,2),s=i[0],l=i[1],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(c.useState)(JSON.parse(localStorage.getItem(e)||t)),r=Object(o.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){null!=a&&localStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,i]}("display_bitcoin",!1),b=Object(o.a)(d,2),f=b[0],v=b[1];Object(c.useEffect)((function(){var e=setInterval((function(){p("/api/v3/ticker/price?symbol=".concat(C,"BUSD"),(function(e,t){t||r({type:"ADD_PRICE",payload:e})}))}),1e3),t=setInterval((function(){p("/api/v3/ticker/24hr?symbol=".concat(C,"BUSD"),(function(e,t){t||r({type:"ADD_24HOUR",payload:e})}))}),5e3),n=setInterval((function(){p("/api/v3/ticker/price?symbol=".concat(C,"BTC"),(function(e,t){t||l({type:"ADD_PRICE",payload:e})}))}),1e3),c=setInterval((function(){p("/api/v3/ticker/24hr?symbol=".concat(C,"BTC"),(function(e,t){t||l({type:"ADD_24HOUR",payload:e})}))}),5e3);return function(){clearInterval(e),clearInterval(t),clearInterval(n),clearInterval(c)}}),[C]);var g=f?s.dataPoints:n.dataPoints,m=f?s.change24hr:n.change24hr;return Object(j.jsxs)("div",{className:"app flex-col",style:{backgroundColor:"#141428"},children:[Object(j.jsx)("button",{className:"toggle-currency",style:{color:P},onClick:function(){return v((function(e){return!e}))},children:f?"Show in usdSymbol":"Show in btcSymbol"}),Object(j.jsxs)("header",{className:"ticker flex-col",children:[Object(j.jsx)("img",{src:y,alt:"logo",className:"logo"}),Object(j.jsxs)("div",{className:"flex-row",children:[Object(j.jsxs)("span",{className:"price",children:[f?"\u20bf":"$",g.length?g[g.length-1].price:0]}),Object(j.jsxs)("div",{className:"flex-col",children:[Object(j.jsx)(O,{value:m.priceChangePercent,suffix:"%",invert:!0,withCaret:!0}),Object(j.jsx)(O,{value:m.priceChange,prefix:f?"\u20bf":"$",scale:"0.8"})]})]})]}),Object(j.jsx)(w,{color:P,dataPoints:g,maxPoints:100,numOfPriceDecimals:f?10:3})]})}i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.b055f38b.chunk.js.map