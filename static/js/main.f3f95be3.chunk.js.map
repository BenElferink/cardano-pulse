{"version":3,"sources":["images/cardano-logo-1024x1024.png","constants/index.js","reducers/usdReducer.js","reducers/btcReducer.js","functions/handleBinanceApi.js","components/ChangeGreenRed.js","components/PulseCanvas.js","App.js","hooks/useLocalStorage.js","index.js"],"names":["initialReducerState","dataPoints","price","change24hr","priceChange","priceChangePercent","token","ticker","accentColor","backgroundColor","logo","CardanoLogo","reducer","state","action","type","payload","prev","length","shift","substring","timestamp","Date","now","handleBinanceApi","a","path","callback","responseData","error","console","table","fetch","response","json","data","invertColor","ChangeGreenRed","value","prefix","suffix","invert","withCaret","scale","changeColor","style","margin","padding","color","fontSize","fontWeight","borderRadius","display","alignItems","CaretUp","size","fill","marginRight","CaretDown","viewBox","width","height","d","PulseCanvas","canvasRef","useRef","animationFrameId","pulseCount","useEffect","canvas","current","window","innerWidth","innerHeight","context","getContext","strokeStyle","fillStyle","draw","maxPrice","minPrice","forEach","Number","String","pulseRadius","Math","sin","getX","index","getY","abs","clearRect","beginPath","arc","PI","i","moveTo","lineTo","stroke","requestAnimationFrame","cancelAnimationFrame","ref","App","useReducer","usdReducer","usdState","dispatchUsd","btcReducer","btcState","dispatchBtc","key","defaultValue","useState","JSON","parse","localStorage","getItem","setValue","setItem","stringify","useLocalStorage","displayBitcoin","setDisplayBitcoin","usdLivePriceInterval","setInterval","usdPriceChangeInterval","btcLivePriceInterval","btcPriceChangeInterval","clearInterval","className","onClick","src","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f3f95be3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/cardano-logo-1024x1024.a528433f.png\";","import CardanoLogo from '../images/cardano-logo-1024x1024.png'\n\nexport const usdSymbol = '$'\nexport const btcSymbol = 'â‚¿'\n\nexport const usdDecimals = 3\nexport const btcDecimals = 8\nexport const percentDecimals = 2\n\nexport const maxQueue = 60\nexport const initialReducerState = {\n  dataPoints: [\n    {\n      price: 0,\n    },\n  ],\n  change24hr: {\n    priceChange: 0,\n    priceChangePercent: 0,\n  },\n}\n\nexport const token = {\n  ticker: 'ADA',\n  accentColor: '#3564f6',\n  backgroundColor: '#141428',\n  logo: CardanoLogo,\n}\n","import {maxQueue, percentDecimals, usdDecimals} from '../constants'\n\nexport default function reducer(state, action) {\n  const {dataPoints, change24hr} = state\n  const {type, payload} = action\n  const {price, priceChange, priceChangePercent} = payload\n\n  switch (type) {\n    case 'ADD_PRICE': {\n      const prev = [...dataPoints]\n      // add the price data to the state array,\n      // whilst making sure the queue length doesn't exceed the allowed number (see variable \"maxQueue\")\n      while (prev.length >= maxQueue) prev.shift()\n      return {\n        ...state,\n        dataPoints: [\n          ...prev,\n          {price: price.substring(0, usdDecimals + (price > 0 ? 2 : 3)), timestamp: Date.now()},\n        ],\n      }\n    }\n\n    case 'ADD_24HOUR': {\n      // add the price change data to the state object\n      return {\n        ...state,\n        change24hr: {\n          ...change24hr,\n          priceChange: priceChange.substring(0, usdDecimals + (priceChange > 0 ? 2 : 3)),\n          priceChangePercent: priceChangePercent.substring(\n            0,\n            percentDecimals + (priceChangePercent > 0 ? 2 : 3),\n          ),\n          timestamp: Date.now(),\n        },\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import {maxQueue, percentDecimals, btcDecimals} from '../constants'\n\nexport default function reducer(state, action) {\n  const {dataPoints, change24hr} = state\n  const {type, payload} = action\n  const {price, priceChange, priceChangePercent} = payload\n\n  switch (type) {\n    case 'ADD_PRICE': {\n      const prev = [...dataPoints]\n      // add the price data to the state array,\n      // whilst making sure the queue length doesn't exceed the allowed number (see variable \"maxQueue\")\n      while (prev.length >= maxQueue) prev.shift()\n      return {\n        ...state,\n        dataPoints: [\n          ...prev,\n          {price: price.substring(0, btcDecimals + (price > 0 ? 2 : 3)), timestamp: Date.now()},\n        ],\n      }\n    }\n\n    case 'ADD_24HOUR': {\n      // add the price change data to the state object\n      return {\n        ...state,\n        change24hr: {\n          ...change24hr,\n          priceChange: priceChange.substring(0, btcDecimals + (priceChange > 0 ? 2 : 3)),\n          priceChangePercent: priceChangePercent.substring(\n            0,\n            percentDecimals + (priceChangePercent > 0 ? 2 : 3),\n          ),\n          timestamp: Date.now(),\n        },\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","export default async function handleBinanceApi(\n  path = '/api/v3/ping',\n  callback = (responseData, error) => {\n    if (!error) console.table(responseData)\n  },\n) {\n  try {\n    const response = await fetch(`https://www.binance.com${path}`)\n    const data = await response.json()\n    callback(data)\n  } catch (error) {\n    console.error(error)\n    callback({error}, 'ERROR')\n  }\n}\n","const green = '#44b700'\nconst red = '#b74400'\nconst invertColor = '#f9f9f9'\n\nexport default function ChangeGreenRed({\n  value = 0,\n  prefix = '',\n  suffix = '',\n  invert = false,\n  withCaret = false,\n  scale = 1,\n}) {\n  const changeColor = value > 0 ? green : value < 0 ? red : 'unset'\n\n  const style = {\n    margin: invert ? `${2 * scale}px ${4 * scale}px` : 'unset',\n    padding: invert ? `${4 * scale}px ${7 * scale}px` : 'unset',\n    backgroundColor: invert ? changeColor : 'unset',\n    color: invert ? invertColor : changeColor,\n    fontSize: `${16 * scale}px`,\n    fontWeight: '500',\n    borderRadius: '7px',\n    display: 'flex',\n    alignItems: 'center',\n  }\n\n  return (\n    <span style={style}>\n      {withCaret && value > 0 ? (\n        <CaretUp size={10 * scale} fill={invertColor} style={{marginRight: `${2 * scale}px`}} />\n      ) : withCaret && value < 0 ? (\n        <CaretDown size={10 * scale} fill={invertColor} style={{marginRight: `${2 * scale}px`}} />\n      ) : null}\n      {prefix}\n      {value}\n      {suffix}\n    </span>\n  )\n}\n\nfunction CaretUp({size = '16', fill = 'currentColor', style}) {\n  return (\n    <svg viewBox='0 0 16 16' width={size} height={size} fill={fill} style={style}>\n      <path d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z' />\n    </svg>\n  )\n}\n\nfunction CaretDown({size = '16', fill = 'currentColor', style}) {\n  return (\n    <svg viewBox='0 0 16 16' width={size} height={size} fill={fill} style={style}>\n      <path d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z' />\n    </svg>\n  )\n}\n","import {useEffect, useRef} from 'react'\n\nexport default function PulseCanvas({dataPoints = [{price: 0}], color = 'unset'}) {\n  const canvasRef = useRef(null)\n  const animationFrameId = useRef(0)\n  const pulseCount = useRef(0)\n\n  useEffect(() => {\n    // set width and height according to screen size.\n    // this is also applied when the screen size changes\n    const canvas = canvasRef.current\n    canvas.width = window.innerWidth - 100\n    canvas.height = window.innerHeight - 420\n\n    // set colors of canvas items.\n    // basically required only once, but it won't hurt performance by applying this again when this useEffect is called\n    const context = canvas.getContext('2d')\n    context.strokeStyle = color\n    context.fillStyle = color\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [window.innerWidth, window.innerHeight, color])\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    const context = canvas.getContext('2d')\n\n    // the animation draw function, creates the visuals on the canvas\n    const draw = () => {\n      pulseCount.current++\n      let maxPrice = 0\n      let minPrice = 0\n\n      // find the highest price, and lowest price in the current queue\n      dataPoints.forEach(({price}) => {\n        if (price > maxPrice || maxPrice === 0) {\n          maxPrice = price\n        } else if (price < minPrice || minPrice === 0) {\n          minPrice = price\n        }\n      })\n\n      // this fixes a bug where on-mount price may be stable, and the chart would not display a pulse\n      if (maxPrice === minPrice) {\n        minPrice -= Number(\n          '0.00000000000000000000000000000000000000000000000000'.substring(\n            0,\n            String(maxPrice).length,\n          ) + '1',\n        )\n      }\n\n      // generic calculators to get the X and Y positions for each dataPoints point\n      const pulseRadius = 7 * Math.sin(pulseCount.current * 0.05) ** 2\n      const getX = (index) => (canvas.width / dataPoints.length) * index\n      const getY = (price) =>\n        Math.abs((canvas.height / (maxPrice - minPrice)) * (price - minPrice) - canvas.height)\n\n      // draw the pulse dot\n      context.clearRect(0, 0, context.canvas.width, context.canvas.height)\n      context.beginPath()\n      context.arc(\n        dataPoints.length >= canvas.width\n          ? getX(canvas.width - pulseRadius)\n          : dataPoints.length\n          ? getX(dataPoints.length - 1)\n          : getX(0),\n        dataPoints.length ? getY(dataPoints[dataPoints.length - 1].price) : getY(0),\n        pulseRadius,\n        0,\n        2 * Math.PI,\n      )\n      context.fill()\n\n      // draw the graph lines\n      context.beginPath()\n      dataPoints.forEach(({price}, i) => {\n        if (i === 0) {\n          context.moveTo(getX(i), getY(price))\n        } else {\n          context.lineTo(getX(i), getY(price))\n        }\n      })\n      context.stroke()\n\n      animationFrameId.current = window.requestAnimationFrame(draw)\n    }\n\n    draw()\n    return () => {\n      window.cancelAnimationFrame(animationFrameId.current)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dataPoints])\n\n  return <canvas ref={canvasRef} />\n}\n","import {useReducer, useEffect} from 'react'\nimport usdReducer from './reducers/usdReducer'\nimport btcReducer from './reducers/btcReducer'\nimport useLocalStorage from './hooks/useLocalStorage'\nimport handleBinanceApi from './functions/handleBinanceApi'\nimport ChangeGreenRed from './components/ChangeGreenRed'\nimport PulseCanvas from './components/PulseCanvas'\nimport {initialReducerState, token, usdSymbol, btcSymbol} from './constants'\n\nexport default function App() {\n  const [usdState, dispatchUsd] = useReducer(usdReducer, initialReducerState)\n  const [btcState, dispatchBtc] = useReducer(btcReducer, initialReducerState)\n  const [displayBitcoin, setDisplayBitcoin] = useLocalStorage('display_bitcoin', false)\n\n  useEffect(() => {\n    const usdLivePriceInterval = setInterval(() => {\n      handleBinanceApi(`/api/v3/ticker/price?symbol=${token.ticker}BUSD`, (data, error) => {\n        if (!error) dispatchUsd({type: 'ADD_PRICE', payload: data})\n      })\n    }, 1000)\n\n    const usdPriceChangeInterval = setInterval(() => {\n      handleBinanceApi(`/api/v3/ticker/24hr?symbol=${token.ticker}BUSD`, (data, error) => {\n        if (!error) dispatchUsd({type: 'ADD_24HOUR', payload: data})\n      })\n    }, 5000)\n\n    const btcLivePriceInterval = setInterval(() => {\n      handleBinanceApi(`/api/v3/ticker/price?symbol=${token.ticker}BTC`, (data, error) => {\n        if (!error) dispatchBtc({type: 'ADD_PRICE', payload: data})\n      })\n    }, 1000)\n\n    const btcPriceChangeInterval = setInterval(() => {\n      handleBinanceApi(`/api/v3/ticker/24hr?symbol=${token.ticker}BTC`, (data, error) => {\n        if (!error) dispatchBtc({type: 'ADD_24HOUR', payload: data})\n      })\n    }, 5000)\n\n    return () => {\n      clearInterval(usdLivePriceInterval)\n      clearInterval(usdPriceChangeInterval)\n      clearInterval(btcLivePriceInterval)\n      clearInterval(btcPriceChangeInterval)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [token])\n\n  const dataPoints = displayBitcoin ? btcState.dataPoints : usdState.dataPoints\n  const change24hr = displayBitcoin ? btcState.change24hr : usdState.change24hr\n\n  return (\n    <div className='app flex-col' style={{backgroundColor: token.backgroundColor}}>\n      <button\n        className='toggle-currency'\n        style={{color: token.accentColor}}\n        onClick={() => setDisplayBitcoin((prev) => !prev)}>\n        {displayBitcoin ? 'Show in USD' : 'Show in BTC'}\n      </button>\n\n      <header className='ticker flex-col'>\n        <img src={token.logo} alt='logo' className='logo' />\n\n        <div className='flex-row'>\n          <span className='price'>\n            {displayBitcoin ? btcSymbol : usdSymbol}\n            {dataPoints.length ? dataPoints[dataPoints.length - 1].price : 0}\n          </span>\n\n          <div className='flex-col'>\n            <ChangeGreenRed value={change24hr.priceChangePercent} suffix='%' invert withCaret />\n            <ChangeGreenRed\n              value={change24hr.priceChange}\n              prefix={displayBitcoin ? btcSymbol : usdSymbol}\n              scale='0.8'\n            />\n          </div>\n        </div>\n      </header>\n\n      <PulseCanvas dataPoints={dataPoints} color={token.accentColor} />\n    </div>\n  )\n}\n","import {useState, useEffect} from 'react'\n\nexport default function useLocalStorage(key = '', defaultValue = null) {\n  const [value, setValue] = useState(JSON.parse(localStorage.getItem(key)) || defaultValue)\n\n  useEffect(() => {\n    if (value != null) localStorage.setItem(key, JSON.stringify(value))\n  }, [key, value])\n\n  return [value, setValue]\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}