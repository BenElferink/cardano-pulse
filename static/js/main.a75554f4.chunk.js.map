{"version":3,"sources":["components/ChangeGreenRed.js","components/PulseCanvas.js","images/cardano-logo-1024x1024.png","App.js","index.js"],"names":["invertColor","ChangeGreenRed","value","prefix","suffix","invert","withCaret","scale","Number","changeColor","style","margin","padding","backgroundColor","color","fontSize","fontWeight","borderRadius","display","alignItems","CaretUp","size","fill","marginRight","CaretDown","viewBox","width","height","d","PulseCanvas","dataPoints","maxPoints","canvasRef","useRef","animationFrameId","pulseCount","useEffect","canvas","current","window","innerWidth","innerHeight","context","getContext","strokeStyle","fillStyle","draw","maxPrice","minPrice","forEach","price","pulseRadius","Math","sin","getX","index","getY","abs","clearRect","beginPath","arc","length","PI","i","moveTo","lineTo","stroke","requestAnimationFrame","cancelAnimationFrame","ref","ticker","App","useState","setDataPoints","priceChange","priceChangePercent","change24hr","setChange24hr","livePriceInterval","setInterval","fetch","then","response","a","json","prev","shift","toFixed","timestamp","Date","now","catch","error","console","priceChangeInterval","clearInterval","className","src","logo","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a75554f4.chunk.js","sourcesContent":["const green = '#44b700'\nconst red = '#b74400'\nconst invertColor = '#f9f9f9'\n\nexport default function ChangeGreenRed({\n  value = 0,\n  prefix = '',\n  suffix = '',\n  invert = false,\n  withCaret = false,\n  scale = 1,\n}) {\n  scale = Number(scale)\n\n  const changeColor = value > 0 ? green : value < 0 ? red : 'unset'\n\n  const style = {\n    margin: invert ? `${2 * scale}px ${4 * scale}px` : 'unset',\n    padding: invert ? `${4 * scale}px ${7 * scale}px` : 'unset',\n    backgroundColor: invert ? changeColor : 'unset',\n    color: invert ? invertColor : changeColor,\n    fontSize: `${16 * scale}px`,\n    fontWeight: '500',\n    borderRadius: '7px',\n    display: 'flex',\n    alignItems: 'center',\n  }\n\n  return (\n    <span style={style}>\n      {withCaret && value > 0 ? (\n        <CaretUp size={12 * scale} fill={invertColor} style={{marginRight: `${2 * scale}px`}} />\n      ) : withCaret && value < 0 ? (\n        <CaretDown size={12 * scale} fill={invertColor} style={{marginRight: `${2 * scale}px`}} />\n      ) : null}\n      {prefix}\n      {value}\n      {suffix}\n    </span>\n  )\n}\n\nfunction CaretUp({size = '16', fill = 'currentColor', style}) {\n  return (\n    <svg viewBox='0 0 16 16' width={size} height={size} fill={fill} style={style}>\n      <path d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z' />\n    </svg>\n  )\n}\n\nfunction CaretDown({size = '16', fill = 'currentColor', style}) {\n  return (\n    <svg viewBox='0 0 16 16' width={size} height={size} fill={fill} style={style}>\n      <path d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z' />\n    </svg>\n  )\n}\n","import {useEffect, useRef} from 'react'\n\nexport default function PulseCanvas({dataPoints, maxPoints, color}) {\n  const canvasRef = useRef(null)\n  const animationFrameId = useRef(0)\n  const pulseCount = useRef(0)\n\n  useEffect(() => {\n    // set width and height according to screen size.\n    // this is also applied when the screen size changes\n    const canvas = canvasRef.current\n    canvas.width = window.innerWidth - 100\n    canvas.height = window.innerHeight - 420\n\n    // set colors of canvas items.\n    // basically required only once, but it won't hurt performance by applying this again when this useEffect is called\n    const context = canvas.getContext('2d')\n    context.strokeStyle = color\n    context.fillStyle = color\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [window.innerWidth, window.innerHeight, color])\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    const context = canvas.getContext('2d')\n\n    // the animation draw function, creates the visuals on the canvas\n    const draw = () => {\n      pulseCount.current++\n      let maxPrice = 0\n      let minPrice = 0\n\n      // find the highest price, and lowest price in the current queue\n      dataPoints.forEach(({price}) => {\n        if (price > maxPrice) {\n          maxPrice = price\n        } else if (price < minPrice || minPrice === 0) {\n          minPrice = price\n        }\n      })\n\n      // generic calculators to get the X and Y positions for each dataPoints point\n      const pulseRadius = 7 * Math.sin(pulseCount.current * 0.05) ** 2\n      const getX = (index) => (canvas.width / maxPoints) * index\n      const getY = (price) =>\n        Math.abs((canvas.height / (maxPrice - minPrice)) * (price - minPrice) - canvas.height)\n\n      // draw the pulse dot\n      context.clearRect(0, 0, context.canvas.width, context.canvas.height)\n      context.beginPath()\n      context.arc(\n        dataPoints.length >= canvas.width\n          ? getX(canvas.width - pulseRadius)\n          : dataPoints.length\n          ? getX(dataPoints.length - 1)\n          : getX(0),\n        dataPoints.length ? getY(dataPoints[dataPoints.length - 1].price) : getY(0),\n        pulseRadius,\n        0,\n        2 * Math.PI,\n      )\n      context.fill()\n\n      // draw the graph lines\n      context.beginPath()\n      dataPoints.forEach(({price}, i) => {\n        if (i === 0) {\n          context.moveTo(getX(i), getY(price))\n        } else {\n          context.lineTo(getX(i), getY(price))\n        }\n      })\n      context.stroke()\n\n      animationFrameId.current = window.requestAnimationFrame(draw)\n    }\n\n    draw()\n    return () => {\n      window.cancelAnimationFrame(animationFrameId.current)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dataPoints, maxPoints])\n\n  return <canvas ref={canvasRef} />\n}\n","export default __webpack_public_path__ + \"static/media/cardano-logo-1024x1024.a528433f.png\";","import {useEffect, useState} from 'react'\nimport ChangeGreenRed from './components/ChangeGreenRed'\nimport PulseCanvas from './components/PulseCanvas'\nimport logo from './images/cardano-logo-1024x1024.png'\n\nconst ticker = 'ADABUSD'\nconst backgroundColor = '#141428'\nconst canvasColor = '#3564f6'\n\nconst maxQueue = 100\nconst fixedDecimals = 3\n\nexport default function App() {\n  const [dataPoints, setDataPoints] = useState([])\n  const [change24hr, setChange24hr] = useState({\n    priceChange: 0,\n    priceChangePercent: 0,\n  })\n\n  useEffect(() => {\n    // get price data on an interval basis (every 1 second)\n    const livePriceInterval = setInterval(\n      () =>\n        fetch(`https://www.binance.com/api/v3/ticker/price?symbol=${ticker}`)\n          .then(async (response) => {\n            const {price} = await response.json()\n            // add the price data to the state array,\n            // whilst making sure the queue length doesn't exceed the allowed number (see variable \"maxQueue\")\n            setDataPoints((prev) => {\n              while (prev.length >= maxQueue) prev.shift()\n              return [\n                ...prev,\n                {price: Number(Number(price).toFixed(fixedDecimals)), timestamp: Date.now()},\n              ]\n            })\n          })\n          .catch((error) => console.error(error)),\n      1000,\n    )\n\n    // get 24 hour price change data on an interval basis (every 5 seconds)\n    const priceChangeInterval = setInterval(\n      () =>\n        fetch(`https://www.binance.com/api/v3/ticker/24hr?symbol=${ticker}`)\n          .then(async (response) => {\n            const {priceChange, priceChangePercent} = await response.json()\n            // add the price change data to the state object\n            setChange24hr({\n              priceChange: Number(Number(priceChange).toFixed(fixedDecimals)),\n              priceChangePercent: Number(Number(priceChangePercent).toFixed(fixedDecimals)),\n              timestamp: Date.now(),\n            })\n          })\n          .catch((error) => console.error(error)),\n      5000,\n    )\n\n    return () => {\n      clearInterval(livePriceInterval)\n      clearInterval(priceChangeInterval)\n    }\n  }, [])\n\n  return (\n    <div className='app flex-col' style={{backgroundColor}}>\n      <header className='header flex-row'>\n        <div className='ticker flex-col'>\n          <img src={logo} alt='logo' className='logo' />\n          <div className='flex-row'>\n            <span className='price'>\n              ${dataPoints.length ? dataPoints[dataPoints.length - 1].price : 0}\n            </span>\n            &nbsp;&nbsp;&nbsp;\n            <div className='flex-col'>\n              <ChangeGreenRed value={change24hr.priceChangePercent} suffix='%' invert withCaret />\n              <ChangeGreenRed value={change24hr.priceChange} prefix='$' scale='0.8' />\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <PulseCanvas dataPoints={dataPoints} maxPoints={maxQueue} color={canvasColor} />\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}