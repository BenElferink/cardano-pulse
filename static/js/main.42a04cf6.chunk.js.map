{"version":3,"sources":["images/cardano-logo-1024x1024.png","constants/index.js","reducers/usdReducer.js","reducers/btcReducer.js","reducers/processTimeReducer.js","functions/handleBinanceApi.js","components/ChangeGreenRed.js","components/PulseCanvas.js","components/OnOff.js","App.js","hooks/useLocalStorage.js","index.js"],"names":["initialPriceReducerState","dataPoints","change24hr","priceChange","priceChangePercent","initialConnectionReducerState","goodConnection","processTimes","token","ticker","accentColor","backgroundColor","logo","CardanoLogo","reducer","state","action","type","payload","price","prev","length","shift","substring","timestamp","Date","now","reduce","a","b","handleBinanceApi","path","callback","responseData","error","console","table","startTime","performance","fetch","response","json","data","processTime","invertColor","ChangeGreenRed","value","prefix","suffix","invert","withCaret","scale","changeColor","style","margin","padding","color","fontSize","fontWeight","borderRadius","display","alignItems","CaretUp","size","fill","marginRight","CaretDown","viewBox","width","height","d","PulseCanvas","canvasRef","useRef","animationFrameId","pulseCount","useEffect","canvas","current","window","innerWidth","innerHeight","context","getContext","strokeStyle","fillStyle","draw","maxPrice","minPrice","forEach","Number","String","pulseRadius","Math","sin","getX","index","getY","abs","clearRect","beginPath","arc","PI","i","moveTo","lineTo","stroke","requestAnimationFrame","cancelAnimationFrame","ref","OnOff","online","connected","on","off","props","position","boxShadow","left","top","transform","App","useReducer","usdReducer","usdState","dispatchUsd","btcReducer","btcState","dispatchBtc","key","defaultValue","useState","JSON","parse","localStorage","getItem","setValue","setItem","stringify","useLocalStorage","displayBitcoin","setDisplayBitcoin","processTimeReducer","connection","dispatchConnection","usdLivePriceInterval","setInterval","usdPriceChangeInterval","btcLivePriceInterval","btcPriceChangeInterval","clearInterval","className","onClick","src","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kNAAe,MAA0B,mDCU5BA,EAA2B,CACtCC,WAAY,GACZC,WAAY,CACVC,YAAa,EACbC,mBAAoB,IAIXC,EAAgC,CAC3CC,gBAAgB,EAChBC,aAAc,CAAC,IAGJC,EAAQ,CACnBC,OAAQ,MACRC,YAAa,UACbC,gBAAiB,UACjBC,KAAMC,GCzBO,SAASC,EAAQC,EAAOC,GACrC,IAAOf,EAAcc,EAAdd,WAELgB,EAEED,EAFFC,KADF,EAGID,EADFE,QAAUC,EAFZ,EAEYA,MAAOhB,EAFnB,EAEmBA,YAAaC,EAFhC,EAEgCA,mBAGhC,OAAQa,GACN,IAAK,YAIH,IAHA,IAAMG,EAAI,YAAOnB,GAGVmB,EAAKC,QDNM,ICMcD,EAAKE,QACrC,OAAO,2BACFP,GADL,IAEEd,WAAW,GAAD,mBACLmB,GADK,CAER,CACED,MAAOA,EAAMI,UAAU,EDfR,GCe0BJ,EAAQ,EAAI,EAAI,IACzDK,UAAWC,KAAKC,WAMxB,IAAK,aAEH,OAAO,2BACFX,GADL,IAEEb,WAAY,CACVC,YAAaA,EAAYoB,UAAU,ED3BlB,GC2BoCpB,EAAc,EAAI,EAAI,IAC3EC,mBAAoBA,EAAmBmB,UACrC,ED3BmB,GC4BAnB,EAAqB,EAAI,EAAI,IAElDoB,UAAWC,KAAKC,SAKtB,QACE,OAAOX,GCzCE,SAASD,EAAQC,EAAOC,GACrC,IAAOf,EAAcc,EAAdd,WAELgB,EAEED,EAFFC,KADF,EAGID,EADFE,QAAUC,EAFZ,EAEYA,MAAOhB,EAFnB,EAEmBA,YAAaC,EAFhC,EAEgCA,mBAGhC,OAAQa,GACN,IAAK,YAIH,IAHA,IAAMG,EAAI,YAAOnB,GAGVmB,EAAKC,QFNM,IEMcD,EAAKE,QACrC,OAAO,2BACFP,GADL,IAEEd,WAAW,GAAD,mBACLmB,GADK,CAER,CACED,MAAOA,EAAMI,UAAU,EFdR,GEc0BJ,EAAQ,EAAI,EAAI,IACzDK,UAAWC,KAAKC,WAMxB,IAAK,aAEH,OAAO,2BACFX,GADL,IAEEb,WAAY,CACVC,YAAaA,EAAYoB,UAAU,EF1BlB,GE0BoCpB,EAAc,EAAI,EAAI,IAC3EC,mBAAoBA,EAAmBmB,UACrC,EF3BmB,GE4BAnB,EAAqB,EAAI,EAAI,IAElDoB,UAAWC,KAAKC,SAKtB,QACE,OAAOX,GCxCE,SAASD,EAAQC,EAAOC,GACrC,IAAOT,EAAgBQ,EAAhBR,aACAU,EAAiBD,EAAjBC,KAAMC,EAAWF,EAAXE,QAEb,OAAQD,GACN,IAAK,kBAEH,IADA,IAAMG,EAAI,YAAOb,GACVa,EAAKC,QAVE,IAUqBD,EAAKE,QAIxC,MAAO,CACLhB,eAFcc,EAAKO,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,KAAKT,EAAKC,OAZxC,IAeVd,aAAa,GAAD,mBAAMa,GAAN,CAAYF,KAI5B,QACE,OAAOH,G,4BCrBE,SAAee,IAA9B,+B,4CAAe,gDAAAF,EAAA,6DACbG,EADa,+BACN,eACPC,EAFa,+BAEF,SAACC,EAAcC,GACnBA,GAAOC,QAAQC,MAAMH,IAGtBI,EAAYC,YAAYZ,MANjB,kBAQYa,MAAM,0BAAD,OAA2BR,IAR5C,cAQLS,EARK,gBASQA,EAASC,OATjB,OASLC,EATK,OAUXV,EAAS,2BAAIU,GAAL,IAAWC,YAAaL,YAAYZ,MAAQW,KAVzC,kDAYXF,QAAQD,MAAR,MACAF,EAAS,CAACE,MAAK,KAAES,YAAaL,YAAYZ,MAAQW,GAAY,SAbnD,2D,iCCETO,EAAc,UAEL,SAASC,EAAT,GAOX,IAAD,IANDC,aAMC,MANO,EAMP,MALDC,cAKC,MALQ,GAKR,MAJDC,cAIC,MAJQ,GAIR,MAHDC,cAGC,aAFDC,iBAEC,aADDC,aACC,MADO,EACP,EACKC,EAAcN,EAAQ,EAZhB,UAY4BA,EAAQ,EAXtC,UAWgD,QAEpDO,EAAQ,CACZC,OAAQL,EAAM,UAAM,EAAIE,EAAV,cAAqB,EAAIA,EAAzB,MAAqC,QACnDI,QAASN,EAAM,UAAM,EAAIE,EAAV,cAAqB,EAAIA,EAAzB,MAAqC,QACpDxC,gBAAiBsC,EAASG,EAAc,QACxCI,MAAOP,EAASL,EAAcQ,EAC9BK,SAAS,GAAD,OAAK,GAAKN,EAAV,MACRO,WAAY,MACZC,aAAc,MACdC,QAAS,OACTC,WAAY,UAGd,OACE,uBAAMR,MAAOA,EAAb,UACGH,GAAaJ,EAAQ,EACpB,cAACgB,EAAD,CAASC,KAAM,GAAKZ,EAAOa,KAAMpB,EAAaS,MAAO,CAACY,YAAY,GAAD,OAAK,EAAId,EAAT,SAC/DD,GAAaJ,EAAQ,EACvB,cAACoB,EAAD,CAAWH,KAAM,GAAKZ,EAAOa,KAAMpB,EAAaS,MAAO,CAACY,YAAY,GAAD,OAAK,EAAId,EAAT,SACjE,KACHJ,EACAD,EACAE,KAKP,SAASc,EAAT,GAA+D,IAAD,IAA5CC,YAA4C,MAArC,KAAqC,MAA/BC,YAA+B,MAAxB,eAAwB,EAARX,EAAQ,EAARA,MACpD,OACE,qBAAKc,QAAQ,YAAYC,MAAOL,EAAMM,OAAQN,EAAMC,KAAMA,EAAMX,MAAOA,EAAvE,SACE,sBAAMiB,EAAE,uHAKd,SAASJ,EAAT,GAAiE,IAAD,IAA5CH,YAA4C,MAArC,KAAqC,MAA/BC,YAA+B,MAAxB,eAAwB,EAARX,EAAQ,EAARA,MACtD,OACE,qBAAKc,QAAQ,YAAYC,MAAOL,EAAMM,OAAQN,EAAMC,KAAMA,EAAMX,MAAOA,EAAvE,SACE,sBAAMiB,EAAE,qHCjDC,SAASC,EAAT,GAAoE,IAAD,IAA7CtE,kBAA6C,MAAhC,CAAC,CAACkB,MAAO,IAAuB,MAAlBqC,aAAkB,MAAV,QAAU,EAC1EgB,EAAYC,iBAAO,MACnBC,EAAmBD,iBAAO,GAC1BE,EAAaF,iBAAO,GA0F1B,OAxFAG,qBAAU,WAGR,IAAMC,EAASL,EAAUM,QACzBD,EAAOT,MAAQW,OAAOC,WAAa,IACnCH,EAAOR,OAASU,OAAOE,YAAc,IAIrC,IAAMC,EAAUL,EAAOM,WAAW,MAClCD,EAAQE,YAAc5B,EACtB0B,EAAQG,UAAY7B,IAGnB,CAACuB,OAAOC,WAAYD,OAAOE,YAAazB,IAE3CoB,qBAAU,WACR,IAAMC,EAASL,EAAUM,QACnBI,EAAUL,EAAOM,WAAW,MAgElC,OA7Da,SAAPG,IACJX,EAAWG,UACX,IAAIS,EAAW,EACXC,EAAW,EAGfvF,EAAWwF,SAAQ,YAAc,IAAZtE,EAAW,EAAXA,MACfA,EAAQoE,GAAyB,IAAbA,EACtBA,EAAWpE,GACFA,EAAQqE,GAAyB,IAAbA,KAC7BA,EAAWrE,MAKXoE,IAAaC,IACfA,GAAYE,OACV,uDAAuDnE,UACrD,EACAoE,OAAOJ,GAAUlE,QACf,MAKR,IAAMuE,EAAc,WAAIC,KAAKC,IAAyB,IAArBnB,EAAWG,SAAmB,GACzDiB,EAAO,SAACC,GAAD,OAAYnB,EAAOT,MAAQnE,EAAWoB,OAAU2E,GACvDC,EAAO,SAAC9E,GAAD,OACX0E,KAAKK,IAAKrB,EAAOR,QAAUkB,EAAWC,IAAcrE,EAAQqE,GAAYX,EAAOR,SAGjFa,EAAQiB,UAAU,EAAG,EAAGjB,EAAQL,OAAOT,MAAOc,EAAQL,OAAOR,QAC7Da,EAAQkB,YACRlB,EAAQmB,IACNpG,EAAWoB,QAAUwD,EAAOT,MACxB2B,EAAKlB,EAAOT,MAAQwB,GACpB3F,EAAWoB,OACX0E,EAAK9F,EAAWoB,OAAS,GACzB0E,EAAK,GACT9F,EAAWoB,OAAS4E,EAAKhG,EAAWA,EAAWoB,OAAS,GAAGF,OAAS8E,EAAK,GACzEL,EACA,EACA,EAAIC,KAAKS,IAEXpB,EAAQlB,OAGRkB,EAAQkB,YACRnG,EAAWwF,SAAQ,WAAUc,GAAO,IAAfpF,EAAc,EAAdA,MACT,IAANoF,EACFrB,EAAQsB,OAAOT,EAAKQ,GAAIN,EAAK9E,IAE7B+D,EAAQuB,OAAOV,EAAKQ,GAAIN,EAAK9E,OAGjC+D,EAAQwB,SAERhC,EAAiBI,QAAUC,OAAO4B,sBAAsBrB,GAG1DA,GACO,WACLP,OAAO6B,qBAAqBlC,EAAiBI,YAG9C,CAAC7E,IAEG,wBAAQ4G,IAAKrC,I,uCC/FP,SAASsC,EAAT,GAAuE,IAWpEC,EAXmE,IAAtDC,iBAAsD,aAAnCC,UAAmC,MAA9B,KAA8B,MAAxBC,WAAwB,MAAlB,MAAkB,EAARC,EAAQ,iBACnF,OACE,+CAASA,GAAT,aACE,uBAAM9D,MAAO,CAAC+D,SAAU,YAAxB,UACE,sBAAM/D,OAOI0D,EAPYC,EAQrB,CACL5C,MAAO,MACPC,OAAQ,MACRV,aAAc,OACdhD,gBAAiBoG,EAAS,OAAS,SACnCM,UAAU,eAAD,OAAiBN,EAAS,OAAS,UAC5CK,SAAU,WACVE,KAAM,QACNC,IAAK,MACLC,UAAW,uBAhBNR,EAAYC,EAAKC,QCYX,SAASO,IACtB,MAAgCC,qBAAWC,EAAY3H,GAAvD,mBAAO4H,EAAP,KAAiBC,EAAjB,KACA,EAAgCH,qBAAWI,EAAY9H,GAAvD,mBAAO+H,EAAP,KAAiBC,EAAjB,KACA,EClBa,WAAyD,IAAhCC,EAA+B,uDAAzB,GAAIC,EAAqB,uDAAN,KAC/D,EAA0BC,mBAASC,KAAKC,MAAMC,aAAaC,QAAQN,KAASC,GAA5E,mBAAOpF,EAAP,KAAc0F,EAAd,KAMA,OAJA5D,qBAAU,WACK,MAAT9B,GAAewF,aAAaG,QAAQR,EAAKG,KAAKM,UAAU5F,MAC3D,CAACmF,EAAKnF,IAEF,CAACA,EAAO0F,GDW6BG,CAAgB,mBAAmB,GAA/E,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAAyCnB,qBACvCoB,EACAzI,GAFF,mBAAO0I,EAAP,KAAmBC,EAAnB,KAKApE,qBAAU,WACR,IAAMqE,EAAuBC,aAAY,WACvCpH,EAAiB,+BAAD,OAAgCtB,EAAMC,OAAtC,SAAoD,SAACiC,EAAMR,GACpEA,GAAO2F,EAAY,CAAC5G,KAAM,YAAaC,QAASwB,IACrDsG,EAAmB,CAAC/H,KAAM,kBAAmBC,QAASwB,EAAKC,mBAE5D,KAEGwG,EAAyBD,aAAY,WACzCpH,EAAiB,8BAAD,OAA+BtB,EAAMC,OAArC,SAAmD,SAACiC,EAAMR,GACnEA,GAAO2F,EAAY,CAAC5G,KAAM,aAAcC,QAASwB,IACtDsG,EAAmB,CAAC/H,KAAM,kBAAmBC,QAASwB,EAAKC,mBAE5D,KAEGyG,EAAuBF,aAAY,WACvCpH,EAAiB,+BAAD,OAAgCtB,EAAMC,OAAtC,QAAmD,SAACiC,EAAMR,GACnEA,GAAO8F,EAAY,CAAC/G,KAAM,YAAaC,QAASwB,IACrDsG,EAAmB,CAAC/H,KAAM,kBAAmBC,QAASwB,EAAKC,mBAE5D,KAEG0G,EAAyBH,aAAY,WACzCpH,EAAiB,8BAAD,OAA+BtB,EAAMC,OAArC,QAAkD,SAACiC,EAAMR,GAClEA,GAAO8F,EAAY,CAAC/G,KAAM,aAAcC,QAASwB,IACtDsG,EAAmB,CAAC/H,KAAM,kBAAmBC,QAASwB,EAAKC,mBAE5D,KAEH,OAAO,WACL2G,cAAcL,GACdK,cAAcH,GACdG,cAAcF,GACdE,cAAcD,MAGf,CAAC7I,IAEJ,IAAMP,EAAa2I,EAAiBb,EAAS9H,WAAa2H,EAAS3H,WAC7DC,EAAa0I,EAAiBb,EAAS7H,WAAa0H,EAAS1H,WAEnE,OACE,sBAAKqJ,UAAU,eAAelG,MAAO,CAAC1C,gBAAiBH,EAAMG,iBAA7D,UACE,cAACmG,EAAD,CACEyC,UAAU,aACVtC,GAAG,kBACHC,IAAI,iBACJF,UAAW+B,EAAWzI,iBAGxB,wBACEiJ,UAAU,kBACVlG,MAAO,CAACG,MAAOhD,EAAME,aACrB8I,QAAS,kBAAMX,GAAkB,SAACzH,GAAD,OAAWA,MAH9C,SAIGwH,EAAiB,cAAgB,gBAGpC,yBAAQW,UAAU,kBAAlB,UACE,qBAAKE,IAAKjJ,EAAMI,KAAM8I,IAAI,OAAOH,UAAU,SAE3C,sBAAKA,UAAU,WAAf,UACE,uBAAMA,UAAU,QAAhB,UACGX,ERrFY,SADA,IQuFZ3I,EAAWoB,OAASpB,EAAWA,EAAWoB,OAAS,GAAGF,MAAQ,KAGjE,sBAAKoI,UAAU,WAAf,UACE,cAAC1G,EAAD,CAAgBC,MAAO5C,EAAWE,mBAAoB4C,OAAO,IAAIC,QAAM,EAACC,WAAS,IACjF,cAACL,EAAD,CACEC,MAAO5C,EAAWC,YAClB4C,OAAQ6F,ER7FG,SADA,IQ+FXzF,MAAM,iBAMd,cAACoB,EAAD,CAAatE,WAAYA,EAAYuD,MAAOhD,EAAME,iBElGxDiJ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACpC,EAAD,MAEFqC,SAASC,eAAe,W","file":"static/js/main.42a04cf6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/cardano-logo-1024x1024.a528433f.png\";","import CardanoLogo from '../images/cardano-logo-1024x1024.png'\n\nexport const usdSymbol = '$'\nexport const btcSymbol = 'â‚¿'\n\nexport const usdDecimals = 3\nexport const btcDecimals = 8\nexport const percentDecimals = 2\nexport const maxQueue = 60\n\nexport const initialPriceReducerState = {\n  dataPoints: [],\n  change24hr: {\n    priceChange: 0,\n    priceChangePercent: 0,\n  },\n}\n\nexport const initialConnectionReducerState = {\n  goodConnection: false,\n  processTimes: [0],\n}\n\nexport const token = {\n  ticker: 'ADA',\n  accentColor: '#3564f6',\n  backgroundColor: '#141428',\n  logo: CardanoLogo,\n}\n","import {maxQueue, percentDecimals, usdDecimals} from '../constants'\n\nexport default function reducer(state, action) {\n  const {dataPoints} = state\n  const {\n    type,\n    payload: {price, priceChange, priceChangePercent},\n  } = action\n\n  switch (type) {\n    case 'ADD_PRICE': {\n      const prev = [...dataPoints]\n      // add the price data to the state array,\n      // whilst making sure the queue length doesn't exceed the allowed number (see variable \"maxQueue\")\n      while (prev.length >= maxQueue) prev.shift()\n      return {\n        ...state,\n        dataPoints: [\n          ...prev,\n          {\n            price: price.substring(0, usdDecimals + (price > 0 ? 2 : 3)),\n            timestamp: Date.now(),\n          },\n        ],\n      }\n    }\n\n    case 'ADD_24HOUR': {\n      // add the price change data to the state object\n      return {\n        ...state,\n        change24hr: {\n          priceChange: priceChange.substring(0, usdDecimals + (priceChange > 0 ? 2 : 3)),\n          priceChangePercent: priceChangePercent.substring(\n            0,\n            percentDecimals + (priceChangePercent > 0 ? 2 : 3),\n          ),\n          timestamp: Date.now(),\n        },\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import {maxQueue, percentDecimals, btcDecimals} from '../constants'\n\nexport default function reducer(state, action) {\n  const {dataPoints} = state\n  const {\n    type,\n    payload: {price, priceChange, priceChangePercent},\n  } = action\n\n  switch (type) {\n    case 'ADD_PRICE': {\n      const prev = [...dataPoints]\n      // add the price data to the state array,\n      // whilst making sure the queue length doesn't exceed the allowed number (see variable \"maxQueue\")\n      while (prev.length >= maxQueue) prev.shift()\n      return {\n        ...state,\n        dataPoints: [\n          ...prev,\n          {\n            price: price.substring(0, btcDecimals + (price > 0 ? 2 : 3)),\n            timestamp: Date.now(),\n          },\n        ],\n      }\n    }\n\n    case 'ADD_24HOUR': {\n      // add the price change data to the state object\n      return {\n        ...state,\n        change24hr: {\n          priceChange: priceChange.substring(0, btcDecimals + (priceChange > 0 ? 2 : 3)),\n          priceChangePercent: priceChangePercent.substring(\n            0,\n            percentDecimals + (priceChangePercent > 0 ? 2 : 3),\n          ),\n          timestamp: Date.now(),\n        },\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","const arrayLength = 20\nconst timeLimit = 2000\n\nexport default function reducer(state, action) {\n  const {processTimes} = state\n  const {type, payload} = action\n\n  switch (type) {\n    case 'ADD_PROCESSTIME': {\n      const prev = [...processTimes]\n      while (prev.length >= arrayLength) prev.shift()\n      // create an average from the collected process times\n      // and use that average to determine if the connection is good or bad\n      const average = prev.reduce((a, b) => a + b) / prev.length\n      return {\n        goodConnection: average < timeLimit,\n        processTimes: [...prev, payload],\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","export default async function handleBinanceApi(\n  path = '/api/v3/ping',\n  callback = (responseData, error) => {\n    if (!error) console.table(responseData)\n  },\n) {\n  const startTime = performance.now()\n  try {\n    const response = await fetch(`https://www.binance.com${path}`)\n    const data = await response.json()\n    callback({...data, processTime: performance.now() - startTime})\n  } catch (error) {\n    console.error(error)\n    callback({error, processTime: performance.now() - startTime}, 'ERROR')\n  }\n}\n","const green = '#44b700'\nconst red = '#b74400'\nconst invertColor = '#f9f9f9'\n\nexport default function ChangeGreenRed({\n  value = 0,\n  prefix = '',\n  suffix = '',\n  invert = false,\n  withCaret = false,\n  scale = 1,\n}) {\n  const changeColor = value > 0 ? green : value < 0 ? red : 'unset'\n\n  const style = {\n    margin: invert ? `${2 * scale}px ${4 * scale}px` : 'unset',\n    padding: invert ? `${4 * scale}px ${7 * scale}px` : 'unset',\n    backgroundColor: invert ? changeColor : 'unset',\n    color: invert ? invertColor : changeColor,\n    fontSize: `${16 * scale}px`,\n    fontWeight: '500',\n    borderRadius: '7px',\n    display: 'flex',\n    alignItems: 'center',\n  }\n\n  return (\n    <span style={style}>\n      {withCaret && value > 0 ? (\n        <CaretUp size={10 * scale} fill={invertColor} style={{marginRight: `${2 * scale}px`}} />\n      ) : withCaret && value < 0 ? (\n        <CaretDown size={10 * scale} fill={invertColor} style={{marginRight: `${2 * scale}px`}} />\n      ) : null}\n      {prefix}\n      {value}\n      {suffix}\n    </span>\n  )\n}\n\nfunction CaretUp({size = '16', fill = 'currentColor', style}) {\n  return (\n    <svg viewBox='0 0 16 16' width={size} height={size} fill={fill} style={style}>\n      <path d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z' />\n    </svg>\n  )\n}\n\nfunction CaretDown({size = '16', fill = 'currentColor', style}) {\n  return (\n    <svg viewBox='0 0 16 16' width={size} height={size} fill={fill} style={style}>\n      <path d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z' />\n    </svg>\n  )\n}\n","import {useEffect, useRef} from 'react'\n\nexport default function PulseCanvas({dataPoints = [{price: 0}], color = 'unset'}) {\n  const canvasRef = useRef(null)\n  const animationFrameId = useRef(0)\n  const pulseCount = useRef(0)\n\n  useEffect(() => {\n    // set width and height according to screen size.\n    // this is also applied when the screen size changes\n    const canvas = canvasRef.current\n    canvas.width = window.innerWidth - 100\n    canvas.height = window.innerHeight - 420\n\n    // set colors of canvas items.\n    // basically required only once, but it won't hurt performance by applying this again when this useEffect is called\n    const context = canvas.getContext('2d')\n    context.strokeStyle = color\n    context.fillStyle = color\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [window.innerWidth, window.innerHeight, color])\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    const context = canvas.getContext('2d')\n\n    // the animation draw function, creates the visuals on the canvas\n    const draw = () => {\n      pulseCount.current++\n      let maxPrice = 0\n      let minPrice = 0\n\n      // find the highest price, and lowest price in the current queue\n      dataPoints.forEach(({price}) => {\n        if (price > maxPrice || maxPrice === 0) {\n          maxPrice = price\n        } else if (price < minPrice || minPrice === 0) {\n          minPrice = price\n        }\n      })\n\n      // this fixes a bug where on-mount price may be stable, and the chart would not display a pulse\n      if (maxPrice === minPrice) {\n        minPrice -= Number(\n          '0.00000000000000000000000000000000000000000000000000'.substring(\n            0,\n            String(maxPrice).length,\n          ) + '1',\n        )\n      }\n\n      // generic calculators to get the X and Y positions for each dataPoints point\n      const pulseRadius = 7 * Math.sin(pulseCount.current * 0.05) ** 2\n      const getX = (index) => (canvas.width / dataPoints.length) * index\n      const getY = (price) =>\n        Math.abs((canvas.height / (maxPrice - minPrice)) * (price - minPrice) - canvas.height)\n\n      // draw the pulse dot\n      context.clearRect(0, 0, context.canvas.width, context.canvas.height)\n      context.beginPath()\n      context.arc(\n        dataPoints.length >= canvas.width\n          ? getX(canvas.width - pulseRadius)\n          : dataPoints.length\n          ? getX(dataPoints.length - 1)\n          : getX(0),\n        dataPoints.length ? getY(dataPoints[dataPoints.length - 1].price) : getY(0),\n        pulseRadius,\n        0,\n        2 * Math.PI,\n      )\n      context.fill()\n\n      // draw the graph lines\n      context.beginPath()\n      dataPoints.forEach(({price}, i) => {\n        if (i === 0) {\n          context.moveTo(getX(i), getY(price))\n        } else {\n          context.lineTo(getX(i), getY(price))\n        }\n      })\n      context.stroke()\n\n      animationFrameId.current = window.requestAnimationFrame(draw)\n    }\n\n    draw()\n    return () => {\n      window.cancelAnimationFrame(animationFrameId.current)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dataPoints])\n\n  return <canvas ref={canvasRef} />\n}\n","export default function OnOff({connected = false, on = 'on', off = 'off', ...props}) {\n  return (\n    <div {...props}>\n      <span style={{position: 'relative'}}>\n        <span style={dotStyle(connected)} />\n        {connected ? on : off}\n      </span>\n    </div>\n  )\n}\n\nfunction dotStyle(online) {\n  return {\n    width: '3px',\n    height: '3px',\n    borderRadius: '100%',\n    backgroundColor: online ? 'lime' : 'tomato',\n    boxShadow: `0 0 4px 1px ${online ? 'lime' : 'tomato'}`,\n    position: 'absolute',\n    left: '-10px',\n    top: '50%',\n    transform: 'translateY(-50%)',\n  }\n}\n","import {useReducer, useEffect} from 'react'\nimport usdReducer from './reducers/usdReducer'\nimport btcReducer from './reducers/btcReducer'\nimport processTimeReducer from './reducers/processTimeReducer'\nimport useLocalStorage from './hooks/useLocalStorage'\nimport handleBinanceApi from './functions/handleBinanceApi'\nimport ChangeGreenRed from './components/ChangeGreenRed'\nimport PulseCanvas from './components/PulseCanvas'\nimport {\n  initialPriceReducerState,\n  initialConnectionReducerState,\n  token,\n  usdSymbol,\n  btcSymbol,\n} from './constants'\nimport OnOff from './components/OnOff'\n\nexport default function App() {\n  const [usdState, dispatchUsd] = useReducer(usdReducer, initialPriceReducerState)\n  const [btcState, dispatchBtc] = useReducer(btcReducer, initialPriceReducerState)\n  const [displayBitcoin, setDisplayBitcoin] = useLocalStorage('display_bitcoin', false)\n  const [connection, dispatchConnection] = useReducer(\n    processTimeReducer,\n    initialConnectionReducerState,\n  )\n\n  useEffect(() => {\n    const usdLivePriceInterval = setInterval(() => {\n      handleBinanceApi(`/api/v3/ticker/price?symbol=${token.ticker}BUSD`, (data, error) => {\n        if (!error) dispatchUsd({type: 'ADD_PRICE', payload: data})\n        dispatchConnection({type: 'ADD_PROCESSTIME', payload: data.processTime})\n      })\n    }, 1000)\n\n    const usdPriceChangeInterval = setInterval(() => {\n      handleBinanceApi(`/api/v3/ticker/24hr?symbol=${token.ticker}BUSD`, (data, error) => {\n        if (!error) dispatchUsd({type: 'ADD_24HOUR', payload: data})\n        dispatchConnection({type: 'ADD_PROCESSTIME', payload: data.processTime})\n      })\n    }, 5000)\n\n    const btcLivePriceInterval = setInterval(() => {\n      handleBinanceApi(`/api/v3/ticker/price?symbol=${token.ticker}BTC`, (data, error) => {\n        if (!error) dispatchBtc({type: 'ADD_PRICE', payload: data})\n        dispatchConnection({type: 'ADD_PROCESSTIME', payload: data.processTime})\n      })\n    }, 1000)\n\n    const btcPriceChangeInterval = setInterval(() => {\n      handleBinanceApi(`/api/v3/ticker/24hr?symbol=${token.ticker}BTC`, (data, error) => {\n        if (!error) dispatchBtc({type: 'ADD_24HOUR', payload: data})\n        dispatchConnection({type: 'ADD_PROCESSTIME', payload: data.processTime})\n      })\n    }, 5000)\n\n    return () => {\n      clearInterval(usdLivePriceInterval)\n      clearInterval(usdPriceChangeInterval)\n      clearInterval(btcLivePriceInterval)\n      clearInterval(btcPriceChangeInterval)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [token])\n\n  const dataPoints = displayBitcoin ? btcState.dataPoints : usdState.dataPoints\n  const change24hr = displayBitcoin ? btcState.change24hr : usdState.change24hr\n\n  return (\n    <div className='app flex-col' style={{backgroundColor: token.backgroundColor}}>\n      <OnOff\n        className='connection'\n        on='Good connection'\n        off='Bad connection'\n        connected={connection.goodConnection}\n      />\n\n      <button\n        className='toggle-currency'\n        style={{color: token.accentColor}}\n        onClick={() => setDisplayBitcoin((prev) => !prev)}>\n        {displayBitcoin ? 'Show in USD' : 'Show in BTC'}\n      </button>\n\n      <header className='ticker flex-col'>\n        <img src={token.logo} alt='logo' className='logo' />\n\n        <div className='flex-row'>\n          <span className='price'>\n            {displayBitcoin ? btcSymbol : usdSymbol}\n            {dataPoints.length ? dataPoints[dataPoints.length - 1].price : 0}\n          </span>\n\n          <div className='flex-col'>\n            <ChangeGreenRed value={change24hr.priceChangePercent} suffix='%' invert withCaret />\n            <ChangeGreenRed\n              value={change24hr.priceChange}\n              prefix={displayBitcoin ? btcSymbol : usdSymbol}\n              scale='0.8'\n            />\n          </div>\n        </div>\n      </header>\n\n      <PulseCanvas dataPoints={dataPoints} color={token.accentColor} />\n    </div>\n  )\n}\n","import {useState, useEffect} from 'react'\n\nexport default function useLocalStorage(key = '', defaultValue = null) {\n  const [value, setValue] = useState(JSON.parse(localStorage.getItem(key)) || defaultValue)\n\n  useEffect(() => {\n    if (value != null) localStorage.setItem(key, JSON.stringify(value))\n  }, [key, value])\n\n  return [value, setValue]\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}