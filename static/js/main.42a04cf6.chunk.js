(this["webpackJsonpcardano-pulse"]=this["webpackJsonpcardano-pulse"]||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),o=n.n(a),i=(n(16),n(4)),s=n(2),l=n(3),u=n.p+"static/media/cardano-logo-1024x1024.a528433f.png",p={dataPoints:[],change24hr:{priceChange:0,priceChangePercent:0}},h={goodConnection:!1,processTimes:[0]},d={ticker:"ADA",accentColor:"#3564f6",backgroundColor:"#141428",logo:u};function f(e,t){var n=e.dataPoints,c=t.type,r=t.payload,a=r.price,o=r.priceChange,i=r.priceChangePercent;switch(c){case"ADD_PRICE":for(var u=Object(l.a)(n);u.length>=60;)u.shift();return Object(s.a)(Object(s.a)({},e),{},{dataPoints:[].concat(Object(l.a)(u),[{price:a.substring(0,3+(a>0?2:3)),timestamp:Date.now()}])});case"ADD_24HOUR":return Object(s.a)(Object(s.a)({},e),{},{change24hr:{priceChange:o.substring(0,3+(o>0?2:3)),priceChangePercent:i.substring(0,2+(i>0?2:3)),timestamp:Date.now()}});default:return e}}function b(e,t){var n=e.dataPoints,c=t.type,r=t.payload,a=r.price,o=r.priceChange,i=r.priceChangePercent;switch(c){case"ADD_PRICE":for(var u=Object(l.a)(n);u.length>=60;)u.shift();return Object(s.a)(Object(s.a)({},e),{},{dataPoints:[].concat(Object(l.a)(u),[{price:a.substring(0,8+(a>0?2:3)),timestamp:Date.now()}])});case"ADD_24HOUR":return Object(s.a)(Object(s.a)({},e),{},{change24hr:{priceChange:o.substring(0,8+(o>0?2:3)),priceChangePercent:i.substring(0,2+(i>0?2:3)),timestamp:Date.now()}});default:return e}}function g(e,t){var n=e.processTimes,c=t.type,r=t.payload;switch(c){case"ADD_PROCESSTIME":for(var a=Object(l.a)(n);a.length>=20;)a.shift();return{goodConnection:a.reduce((function(e,t){return e+t}))/a.length<2e3,processTimes:[].concat(Object(l.a)(a),[r])};default:return e}}var j=n(8),v=n.n(j),O=n(10);function m(){return x.apply(this,arguments)}function x(){return(x=Object(O.a)(v.a.mark((function e(){var t,n,c,r,a,o=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"/api/v3/ping",n=o.length>1&&void 0!==o[1]?o[1]:function(e,t){t||console.table(e)},c=performance.now(),e.prev=3,e.next=6,fetch("https://www.binance.com".concat(t));case 6:return r=e.sent,e.next=9,r.json();case 9:a=e.sent,n(Object(s.a)(Object(s.a)({},a),{},{processTime:performance.now()-c})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),n({error:e.t0,processTime:performance.now()-c},"ERROR");case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}var w=n(0),y="#f9f9f9";function C(e){var t=e.value,n=void 0===t?0:t,c=e.prefix,r=void 0===c?"":c,a=e.suffix,o=void 0===a?"":a,i=e.invert,s=void 0!==i&&i,l=e.withCaret,u=void 0!==l&&l,p=e.scale,h=void 0===p?1:p,d=n>0?"#44b700":n<0?"#b74400":"unset",f={margin:s?"".concat(2*h,"px ").concat(4*h,"px"):"unset",padding:s?"".concat(4*h,"px ").concat(7*h,"px"):"unset",backgroundColor:s?d:"unset",color:s?y:d,fontSize:"".concat(16*h,"px"),fontWeight:"500",borderRadius:"7px",display:"flex",alignItems:"center"};return Object(w.jsxs)("span",{style:f,children:[u&&n>0?Object(w.jsx)(D,{size:10*h,fill:y,style:{marginRight:"".concat(2*h,"px")}}):u&&n<0?Object(w.jsx)(P,{size:10*h,fill:y,style:{marginRight:"".concat(2*h,"px")}}):null,r,n,o]})}function D(e){var t=e.size,n=void 0===t?"16":t,c=e.fill,r=void 0===c?"currentColor":c,a=e.style;return Object(w.jsx)("svg",{viewBox:"0 0 16 16",width:n,height:n,fill:r,style:a,children:Object(w.jsx)("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"})})}function P(e){var t=e.size,n=void 0===t?"16":t,c=e.fill,r=void 0===c?"currentColor":c,a=e.style;return Object(w.jsx)("svg",{viewBox:"0 0 16 16",width:n,height:n,fill:r,style:a,children:Object(w.jsx)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})})}function R(e){var t=e.dataPoints,n=void 0===t?[{price:0}]:t,r=e.color,a=void 0===r?"unset":r,o=Object(c.useRef)(null),i=Object(c.useRef)(0),s=Object(c.useRef)(0);return Object(c.useEffect)((function(){var e=o.current;e.width=window.innerWidth-100,e.height=window.innerHeight-420;var t=e.getContext("2d");t.strokeStyle=a,t.fillStyle=a}),[window.innerWidth,window.innerHeight,a]),Object(c.useEffect)((function(){var e=o.current,t=e.getContext("2d");return function c(){s.current++;var r=0,a=0;n.forEach((function(e){var t=e.price;t>r||0===r?r=t:(t<a||0===a)&&(a=t)})),r===a&&(a-=Number("0.00000000000000000000000000000000000000000000000000".substring(0,String(r).length)+"1"));var o=7*Math.pow(Math.sin(.05*s.current),2),l=function(t){return e.width/n.length*t},u=function(t){return Math.abs(e.height/(r-a)*(t-a)-e.height)};t.clearRect(0,0,t.canvas.width,t.canvas.height),t.beginPath(),t.arc(n.length>=e.width?l(e.width-o):n.length?l(n.length-1):l(0),n.length?u(n[n.length-1].price):u(0),o,0,2*Math.PI),t.fill(),t.beginPath(),n.forEach((function(e,n){var c=e.price;0===n?t.moveTo(l(n),u(c)):t.lineTo(l(n),u(c))})),t.stroke(),i.current=window.requestAnimationFrame(c)}(),function(){window.cancelAnimationFrame(i.current)}}),[n]),Object(w.jsx)("canvas",{ref:o})}var S=n(11),k=["connected","on","off"];function E(e){var t,n=e.connected,c=void 0!==n&&n,r=e.on,a=void 0===r?"on":r,o=e.off,i=void 0===o?"off":o,l=Object(S.a)(e,k);return Object(w.jsx)("div",Object(s.a)(Object(s.a)({},l),{},{children:Object(w.jsxs)("span",{style:{position:"relative"},children:[Object(w.jsx)("span",{style:(t=c,{width:"3px",height:"3px",borderRadius:"100%",backgroundColor:t?"lime":"tomato",boxShadow:"0 0 4px 1px ".concat(t?"lime":"tomato"),position:"absolute",left:"-10px",top:"50%",transform:"translateY(-50%)"})}),c?a:i]})}))}function I(){var e=Object(c.useReducer)(f,p),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useReducer)(b,p),o=Object(i.a)(a,2),s=o[0],l=o[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(c.useState)(JSON.parse(localStorage.getItem(e))||t),r=Object(i.a)(n,2),a=r[0],o=r[1];return Object(c.useEffect)((function(){null!=a&&localStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,o]}("display_bitcoin",!1),j=Object(i.a)(u,2),v=j[0],O=j[1],x=Object(c.useReducer)(g,h),y=Object(i.a)(x,2),D=y[0],P=y[1];Object(c.useEffect)((function(){var e=setInterval((function(){m("/api/v3/ticker/price?symbol=".concat(d.ticker,"BUSD"),(function(e,t){t||r({type:"ADD_PRICE",payload:e}),P({type:"ADD_PROCESSTIME",payload:e.processTime})}))}),1e3),t=setInterval((function(){m("/api/v3/ticker/24hr?symbol=".concat(d.ticker,"BUSD"),(function(e,t){t||r({type:"ADD_24HOUR",payload:e}),P({type:"ADD_PROCESSTIME",payload:e.processTime})}))}),5e3),n=setInterval((function(){m("/api/v3/ticker/price?symbol=".concat(d.ticker,"BTC"),(function(e,t){t||l({type:"ADD_PRICE",payload:e}),P({type:"ADD_PROCESSTIME",payload:e.processTime})}))}),1e3),c=setInterval((function(){m("/api/v3/ticker/24hr?symbol=".concat(d.ticker,"BTC"),(function(e,t){t||l({type:"ADD_24HOUR",payload:e}),P({type:"ADD_PROCESSTIME",payload:e.processTime})}))}),5e3);return function(){clearInterval(e),clearInterval(t),clearInterval(n),clearInterval(c)}}),[d]);var S=v?s.dataPoints:n.dataPoints,k=v?s.change24hr:n.change24hr;return Object(w.jsxs)("div",{className:"app flex-col",style:{backgroundColor:d.backgroundColor},children:[Object(w.jsx)(E,{className:"connection",on:"Good connection",off:"Bad connection",connected:D.goodConnection}),Object(w.jsx)("button",{className:"toggle-currency",style:{color:d.accentColor},onClick:function(){return O((function(e){return!e}))},children:v?"Show in USD":"Show in BTC"}),Object(w.jsxs)("header",{className:"ticker flex-col",children:[Object(w.jsx)("img",{src:d.logo,alt:"logo",className:"logo"}),Object(w.jsxs)("div",{className:"flex-row",children:[Object(w.jsxs)("span",{className:"price",children:[v?"\u20bf":"$",S.length?S[S.length-1].price:0]}),Object(w.jsxs)("div",{className:"flex-col",children:[Object(w.jsx)(C,{value:k.priceChangePercent,suffix:"%",invert:!0,withCaret:!0}),Object(w.jsx)(C,{value:k.priceChange,prefix:v?"\u20bf":"$",scale:"0.8"})]})]})]}),Object(w.jsx)(R,{dataPoints:S,color:d.accentColor})]})}o.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(I,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.42a04cf6.chunk.js.map