(this["webpackJsonpcardano-pulse"]=this["webpackJsonpcardano-pulse"]||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),i=n.n(a),o=(n(15),n(3)),s=n(2),l=n(4),u=n.p+"static/media/cardano-logo-1024x1024.a528433f.png",h={dataPoints:[{price:0}],change24hr:{priceChange:0,priceChangePercent:0}},d={ticker:"ADA",accentColor:"#3564f6",backgroundColor:"#141428",logo:u};function p(e,t){var n=e.dataPoints,c=e.change24hr,r=t.type,a=t.payload,i=a.price,o=a.priceChange,u=a.priceChangePercent;switch(r){case"ADD_PRICE":for(var h=Object(l.a)(n);h.length>=60;)h.shift();return Object(s.a)(Object(s.a)({},e),{},{dataPoints:[].concat(Object(l.a)(h),[{price:i.substring(0,3+(i>0?2:3)),timestamp:Date.now()}])});case"ADD_24HOUR":return Object(s.a)(Object(s.a)({},e),{},{change24hr:Object(s.a)(Object(s.a)({},c),{},{priceChange:o.substring(0,3+(o>0?2:3)),priceChangePercent:u.substring(0,2+(u>0?2:3)),timestamp:Date.now()})});default:return e}}function f(e,t){var n=e.dataPoints,c=e.change24hr,r=t.type,a=t.payload,i=a.price,o=a.priceChange,u=a.priceChangePercent;switch(r){case"ADD_PRICE":for(var h=Object(l.a)(n);h.length>=60;)h.shift();return Object(s.a)(Object(s.a)({},e),{},{dataPoints:[].concat(Object(l.a)(h),[{price:i.substring(0,8+(i>0?2:3)),timestamp:Date.now()}])});case"ADD_24HOUR":return Object(s.a)(Object(s.a)({},e),{},{change24hr:Object(s.a)(Object(s.a)({},c),{},{priceChange:o.substring(0,8+(o>0?2:3)),priceChangePercent:u.substring(0,2+(u>0?2:3)),timestamp:Date.now()})});default:return e}}var g=n(8),b=n.n(g),j=n(10);function v(){return O.apply(this,arguments)}function O(){return(O=Object(j.a)(b.a.mark((function e(){var t,n,c,r,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"/api/v3/ping",n=a.length>1&&void 0!==a[1]?a[1]:function(e,t){t||console.table(e)},e.prev=2,e.next=5,fetch("https://www.binance.com".concat(t));case 5:return c=e.sent,e.next=8,c.json();case 8:r=e.sent,n(r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),n({error:e.t0},"ERROR");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}var x=n(0),w="#f9f9f9";function m(e){var t=e.value,n=void 0===t?0:t,c=e.prefix,r=void 0===c?"":c,a=e.suffix,i=void 0===a?"":a,o=e.invert,s=void 0!==o&&o,l=e.withCaret,u=void 0!==l&&l,h=e.scale,d=void 0===h?1:h,p=n>0?"#44b700":n<0?"#b74400":"unset",f={margin:s?"".concat(2*d,"px ").concat(4*d,"px"):"unset",padding:s?"".concat(4*d,"px ").concat(7*d,"px"):"unset",backgroundColor:s?p:"unset",color:s?w:p,fontSize:"".concat(16*d,"px"),fontWeight:"500",borderRadius:"7px",display:"flex",alignItems:"center"};return Object(x.jsxs)("span",{style:f,children:[u&&n>0?Object(x.jsx)(y,{size:10*d,fill:w,style:{marginRight:"".concat(2*d,"px")}}):u&&n<0?Object(x.jsx)(C,{size:10*d,fill:w,style:{marginRight:"".concat(2*d,"px")}}):null,r,n,i]})}function y(e){var t=e.size,n=void 0===t?"16":t,c=e.fill,r=void 0===c?"currentColor":c,a=e.style;return Object(x.jsx)("svg",{viewBox:"0 0 16 16",width:n,height:n,fill:r,style:a,children:Object(x.jsx)("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"})})}function C(e){var t=e.size,n=void 0===t?"16":t,c=e.fill,r=void 0===c?"currentColor":c,a=e.style;return Object(x.jsx)("svg",{viewBox:"0 0 16 16",width:n,height:n,fill:r,style:a,children:Object(x.jsx)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})})}function D(e){var t=e.dataPoints,n=void 0===t?[{price:0}]:t,r=e.color,a=void 0===r?"unset":r,i=Object(c.useRef)(null),o=Object(c.useRef)(0),s=Object(c.useRef)(0);return Object(c.useEffect)((function(){var e=i.current;e.width=window.innerWidth-100,e.height=window.innerHeight-420;var t=e.getContext("2d");t.strokeStyle=a,t.fillStyle=a}),[window.innerWidth,window.innerHeight,a]),Object(c.useEffect)((function(){var e=i.current,t=e.getContext("2d");return function c(){s.current++;var r=0,a=0;n.forEach((function(e){var t=e.price;t>r||0===r?r=t:(t<a||0===a)&&(a=t)})),r===a&&(a-=Number("0.00000000000000000000000000000000000000000000000000".substring(0,String(r).length)+"1"));var i=7*Math.pow(Math.sin(.05*s.current),2),l=function(t){return e.width/n.length*t},u=function(t){return Math.abs(e.height/(r-a)*(t-a)-e.height)};t.clearRect(0,0,t.canvas.width,t.canvas.height),t.beginPath(),t.arc(n.length>=e.width?l(e.width-i):n.length?l(n.length-1):l(0),n.length?u(n[n.length-1].price):u(0),i,0,2*Math.PI),t.fill(),t.beginPath(),n.forEach((function(e,n){var c=e.price;0===n?t.moveTo(l(n),u(c)):t.lineTo(l(n),u(c))})),t.stroke(),o.current=window.requestAnimationFrame(c)}(),function(){window.cancelAnimationFrame(o.current)}}),[n]),Object(x.jsx)("canvas",{ref:i})}function P(){var e=Object(c.useReducer)(p,h),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useReducer)(f,h),i=Object(o.a)(a,2),s=i[0],l=i[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(c.useState)(JSON.parse(localStorage.getItem(e))||t),r=Object(o.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){null!=a&&localStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,i]}("display_bitcoin",!1),g=Object(o.a)(u,2),b=g[0],j=g[1];Object(c.useEffect)((function(){var e=setInterval((function(){v("/api/v3/ticker/price?symbol=".concat(d.ticker,"BUSD"),(function(e,t){t||r({type:"ADD_PRICE",payload:e})}))}),1e3),t=setInterval((function(){v("/api/v3/ticker/24hr?symbol=".concat(d.ticker,"BUSD"),(function(e,t){t||r({type:"ADD_24HOUR",payload:e})}))}),5e3),n=setInterval((function(){v("/api/v3/ticker/price?symbol=".concat(d.ticker,"BTC"),(function(e,t){t||l({type:"ADD_PRICE",payload:e})}))}),1e3),c=setInterval((function(){v("/api/v3/ticker/24hr?symbol=".concat(d.ticker,"BTC"),(function(e,t){t||l({type:"ADD_24HOUR",payload:e})}))}),5e3);return function(){clearInterval(e),clearInterval(t),clearInterval(n),clearInterval(c)}}),[d]);var O=b?s.dataPoints:n.dataPoints,w=b?s.change24hr:n.change24hr;return Object(x.jsxs)("div",{className:"app flex-col",style:{backgroundColor:d.backgroundColor},children:[Object(x.jsx)("button",{className:"toggle-currency",style:{color:d.accentColor},onClick:function(){return j((function(e){return!e}))},children:b?"Show in USD":"Show in BTC"}),Object(x.jsxs)("header",{className:"ticker flex-col",children:[Object(x.jsx)("img",{src:d.logo,alt:"logo",className:"logo"}),Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsxs)("span",{className:"price",children:[b?"\u20bf":"$",O.length?O[O.length-1].price:0]}),Object(x.jsxs)("div",{className:"flex-col",children:[Object(x.jsx)(m,{value:w.priceChangePercent,suffix:"%",invert:!0,withCaret:!0}),Object(x.jsx)(m,{value:w.priceChange,prefix:b?"\u20bf":"$",scale:"0.8"})]})]})]}),Object(x.jsx)(D,{dataPoints:O,color:d.accentColor})]})}i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(P,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f3f95be3.chunk.js.map